<section class="federation-form">
  <nav class="breadcrumb">
    <a href="/federations">Federations</a> / {{ isUpdateMode ? 'Update Federation' : 'Add New Federation' }}
  </nav>

  <h1>{{ isUpdateMode ? 'Update Federation' : 'Add New Federation' }}</h1>

  <form [formGroup]="federationForm" (ngSubmit)="submitForm()">
    <label for="code">Code</label>
    <input id="code" formControlName="code" type="text" required [readonly]="isUpdateMode" />

    <label for="title">Title</label>
    <input id="title" formControlName="title" type="text" required />

    <label for="url">Url</label>
    <input id="url" formControlName="url" type="text" required />

    <label for="description">Description</label>
    <textarea id="description" formControlName="description" rows="4" required></textarea>

    <label for="institutions">Institutions</label>
    <input id="institutions" formControlName="institutions" type="text" required />

    <label for="records">Records</label>
    <input id="records" formControlName="records" type="text" required />

    <!-- Data Models Checkboxes -->
    <div class="data-models-section">
      <h2>Select Data Models</h2>
      <div class="data-models-grid">
        @for (model of dataModels; track model){
          <label
            class="data-model-card"
          >
            <input
              type="checkbox"
              [value]="model.uuid"
              (change)="onDataModelChange($event)"
              [checked]="selectedDataModels.includes(model.uuid)"
            />
            <span class="data-model-name">{{ model.code }}_{{ model.version }}</span>
          </label>
        }
      </div>
    </div>


    <button type="submit">{{ isUpdateMode ? 'Update Federation' : 'Create Federation' }}</button>
  </form>
</section>
